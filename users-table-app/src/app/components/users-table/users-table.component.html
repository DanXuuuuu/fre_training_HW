<div class="container">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th (click)="onSort('id')" [class.sorted]="sortField() === 'id'">
            Id
          </th>
          <th (click)="onSort('name')" [class.sorted]="sortField() === 'name'">
            Name
          </th>
          <th (click)="onSort('age')" [class.sorted]="sortField() === 'age'">
            Age
          </th>
          <th (click)="onSort('occupation')" [class.sorted]="sortField() === 'occupation'">
            Occupation
          </th>
        </tr>
      </thead>
      <tbody>
        @for (user of paginatedUsers(); track user.id) {
          <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.age }}</td>
            <td>{{ user.occupation }}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="pagination-controls">
    <div class="items-per-page">
      <label for="itemsPerPage">Items per page:</label>
      <select 
        id="itemsPerPage" 
        [value]="itemsPerPage()"
        (change)="onItemsPerPageChange($event)">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
      </select>
    </div>

    <div class="page-navigation">
      <button 
        [disabled]="currentPage() === 1"
        (click)="onPageChange(currentPage() - 1)">
        Previous
      </button>
      <span>Page {{ currentPage() }} of {{ totalPages() }}</span>
      <button 
        [disabled]="currentPage() === totalPages()"
        (click)="onPageChange(currentPage() + 1)">
        Next
      </button>
    </div>
  </div>
</div> 